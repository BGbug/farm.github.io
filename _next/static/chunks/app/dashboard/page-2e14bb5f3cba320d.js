(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{9424:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var a=t(95155),l=t(12115),s=t(66695),n=t(85127),o=t(26126),d=t(72100),c=t(17166),i=t(40157);let u=(0,i.A)("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);var m=t(53838);let h=(0,i.A)("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);var f=t(81499),x=t(8782),p=t(34e3),v=t(54811),g=t(34953);let j=e=>fetch(e).then(e=>e.json()),b={area:{label:"Area (acres)"},Corn:{label:"Corn",color:"hsl(var(--chart-1))"},Soybeans:{label:"Soybeans",color:"hsl(var(--chart-2))"},Wheat:{label:"Wheat",color:"hsl(var(--chart-4))"},Potatoes:{label:"Potatoes",color:"hsl(var(--chart-5))"}};function y(){let{data:e=[],error:r}=(0,g.Ay)("/api/transactions",j),{data:t=[],error:i}=(0,g.Ay)("/api/livestock",j),{data:y=[],error:N}=(0,g.Ay)("/api/recent-activities",j),{data:w=[],error:k}=(0,g.Ay)("/api/fields",j),A=(0,l.useMemo)(()=>Object.entries(w.reduce((e,r)=>("Fallow"!==r.crop&&(e[r.crop]=(e[r.crop]||0)+r.area),e),{})).map(e=>{var r;let[t,a]=e;return{crop:t,area:a,fill:(null==(r=b[t])?void 0:r.color)||"#8884d8"}}),[w]),_=r=>e.filter(e=>"expense"===e.type&&e.category.toLowerCase()===r.toLowerCase()).reduce((e,r)=>e+r.amount,0),C=_("feeds"),R=_("fertilizers"),T=_("seeds"),L=t.length;return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Welcome back, Alice! Here is an overview of your farm."})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(d.h,{title:"Total Livestock",value:String(L),icon:(0,a.jsx)(c.A,{}),description:"Total animals on farm"}),(0,a.jsx)(d.h,{title:"Feed Expenses",value:"₹".concat(C.toLocaleString()),icon:(0,a.jsx)(u,{}),description:"Total spent on animal feeds"}),(0,a.jsx)(d.h,{title:"Fertilizer Expenses",value:"₹".concat(R.toLocaleString()),icon:(0,a.jsx)(m.A,{}),description:"Total spent on fertilizers"}),(0,a.jsx)(d.h,{title:"Seed Expenses",value:"₹".concat(T.toLocaleString()),icon:(0,a.jsx)(h,{}),description:"Total spent on seeds"})]}),(0,a.jsxs)("div",{className:"grid gap-8 lg:grid-cols-5",children:[(0,a.jsxs)(s.Zp,{className:"lg:col-span-3 shadow-md",children:[(0,a.jsxs)(s.aR,{children:[(0,a.jsx)(s.ZB,{children:"Recent Activity"}),(0,a.jsx)(s.BT,{children:"A log of the most recent farm operations."})]}),(0,a.jsx)(s.Wu,{children:N?(0,a.jsx)("p",{children:"Failed to load activities"}):(0,a.jsxs)(n.XI,{children:[(0,a.jsx)(n.A0,{children:(0,a.jsxs)(n.Hj,{children:[(0,a.jsx)(n.nd,{children:"Activity"}),(0,a.jsx)(n.nd,{className:"hidden sm:table-cell",children:"Type"}),(0,a.jsx)(n.nd,{className:"text-right",children:"Time"})]})}),(0,a.jsx)(n.BF,{children:y.map(e=>(0,a.jsxs)(n.Hj,{children:[(0,a.jsx)(n.nA,{children:(0,a.jsx)("div",{className:"font-medium",children:e.activity})}),(0,a.jsx)(n.nA,{className:"hidden sm:table-cell",children:(0,a.jsx)(o.E,{variant:"Harvest"===e.type?"default":"secondary",className:"Harvest"===e.type?"bg-accent text-accent-foreground":"",children:e.type})}),(0,a.jsx)(n.nA,{className:"text-right text-muted-foreground",children:e.timestamp})]},e.id))})]})})]}),(0,a.jsxs)(s.Zp,{className:"lg:col-span-2 shadow-md",children:[(0,a.jsxs)(s.aR,{children:[(0,a.jsx)(s.ZB,{children:"Crop Distribution"}),(0,a.jsx)(s.BT,{children:"Area distribution by crop type."})]}),(0,a.jsx)(s.Wu,{children:k?(0,a.jsx)("p",{children:"Failed to load crop data"}):(0,a.jsx)(f.at,{config:b,className:"mx-auto aspect-square max-h-[300px]",children:(0,a.jsxs)(x.r,{children:[(0,a.jsx)(f.II,{cursor:!1,content:(0,a.jsx)(f.Nt,{hideLabel:!0})}),(0,a.jsx)(p.F,{data:A,dataKey:"area",nameKey:"crop",innerRadius:60,children:A.map(e=>(0,a.jsx)(v.f,{fill:e.fill},"cell-".concat(e.crop)))}),(0,a.jsx)(f._3,{content:(0,a.jsx)(f.Hm,{nameKey:"crop"})})]})})})]})]})]})}},17166:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(40157).A)("Drumstick",[["path",{d:"M15.4 15.63a7.875 6 135 1 1 6.23-6.23 4.5 3.43 135 0 0-6.23 6.23",key:"1dtqwm"}],["path",{d:"m8.29 12.71-2.6 2.6a2.5 2.5 0 1 0-1.65 4.65A2.5 2.5 0 1 0 8.7 18.3l2.59-2.59",key:"1oq1fw"}]])},26126:(e,r,t)=>{"use strict";t.d(r,{E:()=>o});var a=t(95155);t(12115);var l=t(74466),s=t(59434);let n=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:r,variant:t,...l}=e;return(0,a.jsx)("div",{className:(0,s.cn)(n({variant:t}),r),...l})}},53838:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(40157).A)("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]])},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var a=t(52596),l=t(39688);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,l.QP)((0,a.$)(r))}},66695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>i,ZB:()=>d,Zp:()=>n,aR:()=>o,wL:()=>u});var a=t(95155),l=t(12115),s=t(59434);let n=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});n.displayName="Card";let o=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...l})});o.displayName="CardHeader";let d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...l})});d.displayName="CardTitle";let c=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...l})});c.displayName="CardDescription";let i=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...l})});i.displayName="CardContent";let u=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...l})});u.displayName="CardFooter"},72100:(e,r,t)=>{"use strict";t.d(r,{h:()=>s});var a=t(95155),l=t(66695);function s(e){let{title:r,value:t,icon:s,description:n}=e;return(0,a.jsxs)(l.Zp,{className:"shadow-md hover:shadow-lg transition-shadow duration-300",children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:r}),(0,a.jsx)("div",{className:"text-muted-foreground",children:s})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:t}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:n})]})]})}},77618:(e,r,t)=>{Promise.resolve().then(t.bind(t,9424))},81499:(e,r,t)=>{"use strict";t.d(r,{Hm:()=>v,II:()=>f,Nt:()=>x,_3:()=>p,at:()=>m});var a=t(95155),l=t(12115),s=t(83540),n=t(94517),o=t(24026),d=t(59434);let c={light:"",dark:".dark"},i=l.createContext(null);function u(){let e=l.useContext(i);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let m=l.forwardRef((e,r)=>{let{id:t,className:n,children:o,config:c,...u}=e,m=l.useId(),f="chart-".concat(t||m.replace(/:/g,""));return(0,a.jsx)(i.Provider,{value:{config:c},children:(0,a.jsxs)("div",{"data-chart":f,ref:r,className:(0,d.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...u,children:[(0,a.jsx)(h,{id:f,config:c}),(0,a.jsx)(s.u,{children:o})]})})});m.displayName="Chart";let h=e=>{let{id:r,config:t}=e,l=Object.entries(t).filter(e=>{let[,r]=e;return r.theme||r.color});return l.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(c).map(e=>{let[t,a]=e;return"\n".concat(a," [data-chart=").concat(r,"] {\n").concat(l.map(e=>{var r;let[a,l]=e,s=(null==(r=l.theme)?void 0:r[t])||l.color;return s?"  --color-".concat(a,": ").concat(s,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},f=n.m,x=l.forwardRef((e,r)=>{let{active:t,payload:s,className:n,indicator:o="dot",hideLabel:c=!1,hideIndicator:i=!1,label:m,labelFormatter:h,labelClassName:f,formatter:x,color:p,nameKey:v,labelKey:j}=e,{config:b}=u(),y=l.useMemo(()=>{var e;if(c||!(null==s?void 0:s.length))return null;let[r]=s,t="".concat(j||r.dataKey||r.name||"value"),l=g(b,r,t),n=j||"string"!=typeof m?null==l?void 0:l.label:(null==(e=b[m])?void 0:e.label)||m;return h?(0,a.jsx)("div",{className:(0,d.cn)("font-medium",f),children:h(n,s)}):n?(0,a.jsx)("div",{className:(0,d.cn)("font-medium",f),children:n}):null},[m,h,s,c,f,b,j]);if(!t||!(null==s?void 0:s.length))return null;let N=1===s.length&&"dot"!==o;return(0,a.jsxs)("div",{ref:r,className:(0,d.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[N?null:y,(0,a.jsx)("div",{className:"grid gap-1.5",children:s.map((e,r)=>{let t="".concat(v||e.name||e.dataKey||"value"),l=g(b,e,t),s=p||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,d.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===o&&"items-center"),children:x&&(null==e?void 0:e.value)!==void 0&&e.name?x(e.value,e.name,e,r,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==l?void 0:l.icon)?(0,a.jsx)(l.icon,{}):!i&&(0,a.jsx)("div",{className:(0,d.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":N&&"dashed"===o}),style:{"--color-bg":s,"--color-border":s}}),(0,a.jsxs)("div",{className:(0,d.cn)("flex flex-1 justify-between leading-none",N?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[N?y:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==l?void 0:l.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});x.displayName="ChartTooltip";let p=o.s,v=l.forwardRef((e,r)=>{let{className:t,hideIcon:l=!1,payload:s,verticalAlign:n="bottom",nameKey:o}=e,{config:c}=u();return(null==s?void 0:s.length)?(0,a.jsx)("div",{ref:r,className:(0,d.cn)("flex items-center justify-center gap-4","top"===n?"pb-3":"pt-3",t),children:s.map(e=>{let r="".concat(o||e.dataKey||"value"),t=g(c,e,r);return(0,a.jsxs)("div",{className:(0,d.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!l?(0,a.jsx)(t.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null});function g(e,r,t){if("object"!=typeof r||null===r)return;let a="payload"in r&&"object"==typeof r.payload&&null!==r.payload?r.payload:void 0,l=t;return t in r&&"string"==typeof r[t]?l=r[t]:a&&t in a&&"string"==typeof a[t]&&(l=a[t]),l in e?e[l]:e[t]}v.displayName="ChartLegend"},85127:(e,r,t)=>{"use strict";t.d(r,{A0:()=>o,BF:()=>d,Hj:()=>c,XI:()=>n,nA:()=>u,nd:()=>i});var a=t(95155),l=t(12115),s=t(59434);let n=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",t),...l})})});n.displayName="Table";let o=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",t),...l})});o.displayName="TableHeader";let d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",t),...l})});d.displayName="TableBody",l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...l})}).displayName="TableFooter";let c=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("tr",{ref:r,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l})});c.displayName="TableRow";let i=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("th",{ref:r,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...l})});i.displayName="TableHead";let u=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("td",{ref:r,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...l})});u.displayName="TableCell",l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,a.jsx)("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",t),...l})}).displayName="TableCaption"}},e=>{var r=r=>e(e.s=r);e.O(0,[5511,9667,4953,3435,8782,8441,1684,7358],()=>r(77618)),_N_E=e.O()}]);